
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Quick Start Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-prism/prism.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="tutorial/" />
    
    
    <link rel="prev" href="Philosophies.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        <li class="header">Table of contents</li>
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="Philosophies.html">
            
                <a href="Philosophies.html">
            
                    
                    Philosophies
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.3" data-path="QuickStart.html">
            
                <a href="QuickStart.html">
            
                    
                    Quick Start
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="tutorial/">
            
                <a href="tutorial/">
            
                    
                    Tutorial
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="tutorial/FirstManager.html">
            
                <a href="tutorial/FirstManager.html">
            
                    
                    First Manager
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="tutorial/TheConflux.html">
            
                <a href="tutorial/TheConflux.html">
            
                    
                    The Conflux
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="tutorial/StoreCreation.html">
            
                <a href="tutorial/StoreCreation.html">
            
                    
                    Store Creation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="tutorial/Actions.html">
            
                <a href="tutorial/Actions.html">
            
                    
                    Actions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5" data-path="tutorial/Reducers.html">
            
                <a href="tutorial/Reducers.html">
            
                    
                    Reducers
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.6" data-path="tutorial/ActionInterception.html">
            
                <a href="tutorial/ActionInterception.html">
            
                    
                    Action Interception
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7" data-path="tutorial/ConfluxInjection.html">
            
                <a href="tutorial/ConfluxInjection.html">
            
                    
                    Conflux Injection
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8" data-path="tutorial/Selectors.html">
            
                <a href="tutorial/Selectors.html">
            
                    
                    Selectors
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.9" data-path="tutorial/TheModularManager.html">
            
                <a href="tutorial/TheModularManager.html">
            
                    
                    The Modular Manager
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.10" data-path="tutorial/HigherOrderReducers.html">
            
                <a href="tutorial/HigherOrderReducers.html">
            
                    
                    Higher-Order Reducers
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.11" data-path="tutorial/TheBigPicture.html">
            
                <a href="tutorial/TheBigPicture.html">
            
                    
                    The Big Picture
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="examples/README.md">
            
                <span>
            
                    
                    Examples
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="examples/ClassicTodos.md">
            
                <span>
            
                    
                    Classic Todos
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="examples/RPG.md">
            
                <span>
            
                    
                    RPG
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="api/README.md">
            
                <span>
            
                    
                    API
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="api/Action.md">
            
                <span>
            
                    
                    Action
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="api/Actions.md">
            
                <span>
            
                    
                    Actions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3" data-path="api/Manage.md">
            
                <span>
            
                    
                    Manage
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Quick Start</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="quick-start">Quick Start</h1>
<h3 id="installation">Installation</h3>
<pre class="language-"><code>npm install --save fluxuate
</code></pre><h3 id="basic-concepts">Basic Concepts</h3>
<p>Apart from all the concepts of Redux itself, the core concepts of Fluxuate are the Manager and the Conflux.</p>
<h5 id="manager">Manager</h5>
<ul>
<li>Controls a portion of the app&apos;s state.</li>
<li>Defines how its state can be changed and viewed.</li>
<li>A very high-level abstraction. Never used directly.</li>
<li>Has a 1:1 mapping to a Conflux.</li>
<li>You can think of a Manager as a Conflux Manifest. A Manager tells Fluxuate how to create its Conflux.</li>
</ul>
<h5 id="conflux">Conflux</h5>
<ul>
<li>A Redux reducer.</li>
<li>Designed to reduce just the portion of state controlled by its Manager.</li>
<li>Is used directly to dispatch actions and get the current value of the Manager&apos;s state slice and derivations thereof.</li>
<li>Does <em>not</em> have a 1:1 mapping to a Manager. Fluxuate will dynamically fill in all the un-managed gaps in the state tree with bare Confluxes. There&apos;s also:</li>
<li>The Root Conflux<ul>
<li>Does not belong to any one Manager. It&apos;s created automatically based on...everything.</li>
<li>Controls the root store object.</li>
<li>Delegates state reduction to the appropriate Confluxes for any given action.</li>
<li>Is similar to using <code>combineReducers()</code> to create a root reducer in Redux.</li>
</ul>
</li>
</ul>
<h3 id="a-small-example">A Small Example</h3>
<pre class="language-"><code class="lang-javascript"><span class="token keyword">import</span> <span class="token punctuation">{</span> Actions<span class="token punctuation">,</span> Manage<span class="token punctuation">,</span> Reduce<span class="token punctuation">,</span> getConflux <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&apos;fluxuate&apos;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> createStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&apos;redux&apos;</span>

@<span class="token function">Manage</span><span class="token punctuation">(</span><span class="token string">&apos;store&apos;</span><span class="token punctuation">)</span>
@<span class="token function">Actions</span><span class="token punctuation">(</span><span class="token string">&apos;addTodo&apos;</span><span class="token punctuation">)</span>
<span class="token keyword">class</span> <span class="token class-name">StoreManager</span> <span class="token punctuation">{</span>
    todos <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>

    @<span class="token function">Reduce</span><span class="token punctuation">(</span><span class="token string">&apos;addTodo&apos;</span><span class="token punctuation">)</span>
    <span class="token function">reduceAddTodo</span><span class="token punctuation">(</span>state<span class="token punctuation">,</span> text<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> newTodo <span class="token operator">=</span> <span class="token punctuation">{</span> text<span class="token punctuation">,</span> completed<span class="token punctuation">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token operator">...</span>state<span class="token punctuation">,</span> todos<span class="token punctuation">:</span> <span class="token punctuation">[</span> <span class="token operator">...</span>state<span class="token punctuation">.</span>todos<span class="token punctuation">,</span> newTodo <span class="token punctuation">]</span> <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> storeConflux <span class="token operator">=</span> <span class="token function">getConflux</span><span class="token punctuation">(</span>StoreManager<span class="token punctuation">)</span>
<span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">createStore</span><span class="token punctuation">(</span>storeConflux<span class="token punctuation">)</span>

store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    type<span class="token punctuation">:</span> <span class="token string">&apos;store/addTodo&apos;</span><span class="token punctuation">,</span>
    payload<span class="token punctuation">:</span> <span class="token string">&apos;win all the things&apos;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
<p>This example shows how Fluxuate and Redux can live in harmony. Fluxuate isn&apos;t meant to replace any part of Redux. Its purpose is to provide a suite of opt-in, high-level abstractions on top of Redux. Fluxuate never locks you in to doing things the &quot;Fluxuate way&quot;. Bumping down to raw Redux or using another library for a certain task are painless.</p>
<p>Now forget what you have learned. Let&apos;s do things the Fluxuate way:</p>
<h3 id="a-smaller-example">A Smaller Example</h3>
<pre class="language-"><code class="lang-javascript"><span class="token keyword">import</span> <span class="token punctuation">{</span> Actions<span class="token punctuation">,</span> Manage<span class="token punctuation">,</span> Reduce<span class="token punctuation">,</span> Value<span class="token punctuation">,</span> getConflux<span class="token punctuation">,</span> handleStoreCreation <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&apos;fluxuate&apos;</span>

@<span class="token function">Manage</span><span class="token punctuation">(</span><span class="token string">&apos;todos&apos;</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// this Manager will control the &quot;todos&quot; property of the store</span>
@<span class="token function">Value</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// set the default value controlled by this Manager</span>
@<span class="token function">Actions</span><span class="token punctuation">(</span><span class="token string">&apos;add&apos;</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// bound action creator for the &quot;todos/add&quot; action</span>
<span class="token keyword">class</span> <span class="token class-name">TodosManager</span> <span class="token punctuation">{</span>

    @<span class="token function">Reduce</span><span class="token punctuation">(</span><span class="token string">&apos;add&apos;</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// reduce only the &quot;todos/add&quot; action</span>
    <span class="token function">reduceAdd</span><span class="token punctuation">(</span>state<span class="token punctuation">,</span> text<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">// &quot;state&quot; will be the current value of this Manager&apos;s state</span>
        <span class="token keyword">let</span> newTodo <span class="token operator">=</span> <span class="token punctuation">{</span> text<span class="token punctuation">,</span> completed<span class="token punctuation">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token punctuation">[</span> <span class="token operator">...</span>state<span class="token punctuation">,</span> newTodo <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">handleStoreCreation</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// opt-in store creation shorthand</span>
<span class="token keyword">const</span> todos <span class="token operator">=</span> <span class="token function">getConflux</span><span class="token punctuation">(</span>TodosManager<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// get the Conflux to interface with our Manager</span>

todos<span class="token punctuation">.</span>action<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&apos;be a boss&apos;</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// dispatch an action or three</span>
todos<span class="token punctuation">.</span>state <span class="token comment" spellcheck="true">// [ { text: &apos;be a boss&apos;, completed: false } ]</span>
</code></pre>
<p>A Fluxuate Manager is just a decorated ES6 class.</p>
<ul>
<li><p><code>@Manage()</code> tells Fluxuate which portion of state our Manager controls.</p>
</li>
<li><p><code>@Value()</code> tells Fluxuate the default initial value of our Manager&apos;s state.</p>
</li>
<li><p><code>@Actions()</code> gives our Manager&apos;s Conflux some action creators.</p>
</li>
<li><p><code>@Reduce()</code> creates a sub-reducer that our Manager&apos;s Conflux will defer to when it receives an action of the specified type.</p>
</li>
<li><p><code>handleStoreCreation()</code> is an optional shorthand that tells Fluxuate to create the Redux store for us using the information it&apos;s collected so far.</p>
</li>
<li><p><code>getConflux()</code> retrieves our Manager&apos;s Conflux.</p>
</li>
<li><p><code>Conflux.action</code> retrieves a simple object containing all the bound action creators specified by the Conflux&apos;s Manager.</p>
</li>
<li><p><code>Conflux.state</code> is a dynamic property that retrieves the current value of the piece of state controlled by the Conflux&apos;s Manager.</p>
</li>
</ul>
<p>Note that we didn&apos;t use class fields in this example. Instead, we used the special <code>@Value()</code> decorator. Class fields are great when we want our Manager&apos;s value to be an object with known fields. But when those fields are dynamic, or we want to use a different data structure (or use a primitive), we need to use <code>@Value()</code>.</p>
<h3 id="thats-where-its-">That&apos;s Where It&apos;s @</h3>
<p>The beauty of Fluxuate lies in its decorators. Any method on a Fluxuate Manager can be re-purposed indefinitely by decorating it more. A reducer, for example, is not limited to reducing only one type of action. This helps Fluxuate stay as thoroughly dynamic as Redux itself, while providing a more declarative, user-friendly syntax.</p>
<pre class="language-"><code class="lang-javascript">@<span class="token function">Manage</span><span class="token punctuation">(</span><span class="token string">&apos;gold&apos;</span><span class="token punctuation">)</span>
@<span class="token function">Value</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span>
@<span class="token function">Actions</span><span class="token punctuation">(</span><span class="token string">&apos;earn&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;spend&apos;</span><span class="token punctuation">)</span>
<span class="token keyword">class</span> <span class="token class-name">GoldManager</span> <span class="token punctuation">{</span>

    @<span class="token function">Reduce</span><span class="token punctuation">(</span><span class="token string">&apos;spend&apos;</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// reduces the &quot;gold/spend&quot; action</span>
    @<span class="token function">Reduce</span><span class="token punctuation">(</span><span class="token string">&apos;/potions/buy&apos;</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// also reduces the &quot;potions/buy&quot; action</span>
    <span class="token function">reduceSpend</span><span class="token punctuation">(</span>state<span class="token punctuation">,</span> payload<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> state <span class="token operator">-</span> payload
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h3 id="paths">Paths</h3>
<p>Fluxuate tries to emphasize the &quot;tree&quot; aspect of the state tree. Nodes in the tree are delineated by using paths. For example, given the following state tree:</p>
<pre class="language-"><code class="lang-javascript"><span class="token punctuation">{</span>
    todos<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        urgent<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p>a Manager for the <code>todos.urgent</code> piece of state would be created like so:</p>
<pre class="language-"><code class="lang-javascript">@<span class="token function">Manage</span><span class="token punctuation">(</span><span class="token string">&apos;todos/urgent&apos;</span><span class="token punctuation">)</span>
@<span class="token function">Value</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">class</span> <span class="token class-name">UrgentTodosManager</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre>
<p>Fluxuate also encourages all actions to be structured around the state tree. Thus paths can be used to denote the actions to which a Manager method subscribes.</p>
<ul>
<li>Most method decorators take one or more paths as arguments.</li>
<li>Paths are relative by default (relative to their Manager&apos;s namespace).</li>
<li>Prefixing a path with a slash (<code>/</code>) makes it absolute.</li>
<li>The special paths <code>*</code> and <code>/*</code> match all local and global actions, respectively.</li>
</ul>
<pre class="language-"><code class="lang-javascript">@<span class="token function">Manage</span><span class="token punctuation">(</span><span class="token string">&apos;gold&apos;</span><span class="token punctuation">)</span>
@<span class="token function">Value</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span>
@<span class="token function">Actions</span><span class="token punctuation">(</span><span class="token string">&apos;earn&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;spend&apos;</span><span class="token punctuation">)</span>
<span class="token keyword">class</span> <span class="token class-name">GoldManager</span> <span class="token punctuation">{</span>

    @<span class="token function">Reduce</span><span class="token punctuation">(</span><span class="token string">&apos;*&apos;</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// reduces &quot;gold/earn&quot;, &quot;gold/spend&quot;, and &quot;gold/really/anything&quot;</span>
    <span class="token function">reduceLocalAction</span><span class="token punctuation">(</span>state<span class="token punctuation">,</span> payload<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span>

    @<span class="token function">Reduce</span><span class="token punctuation">(</span><span class="token string">&apos;/*&apos;</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// reduces literally everything</span>
    <span class="token function">reduceGlobalAction</span><span class="token punctuation">(</span>state<span class="token punctuation">,</span> payload<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span>

    @<span class="token function">Reduce</span><span class="token punctuation">(</span><span class="token string">&apos;earn&apos;</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// equivalent to &quot;/gold/earn&quot;</span>
    @<span class="token function">Reduce</span><span class="token punctuation">(</span><span class="token string">&apos;spend&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;/potions/buy&apos;</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// a decorator can define multiple paths</span>
    <span class="token function">reduceChange</span><span class="token punctuation">(</span>state<span class="token punctuation">,</span> payload<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Namespacing action types around the state tree makes them easier to remember and reason about. While this is awesome, it&apos;s still opt-in.</p>
<pre class="language-"><code class="lang-javascript"><span class="token comment" spellcheck="true">// Let&apos;s use a normal constant...</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> ADD_TODO <span class="token operator">=</span> <span class="token string">&apos;ADD_TODO&apos;</span>

<span class="token comment" spellcheck="true">// ...a total non-Fluxuate action creator...</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">addTodo</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span> type<span class="token punctuation">:</span> ADD_TODO<span class="token punctuation">,</span> payload<span class="token punctuation">:</span> text <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">// ... and a little Fluxuate</span>
@<span class="token function">Manage</span><span class="token punctuation">(</span><span class="token string">&apos;todos&apos;</span><span class="token punctuation">)</span>
@<span class="token function">Value</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">class</span> <span class="token class-name">TodosManager</span> <span class="token punctuation">{</span>

    @<span class="token function">Reduce</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>ADD_TODO<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span>
    <span class="token function">reduceAddTodo</span><span class="token punctuation">(</span>state<span class="token punctuation">,</span> payload<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h3 id="the-state-tree">The State Tree</h3>
<p>Fluxuate will dynamically create the reducer hierarchy:</p>
<pre class="language-"><code class="lang-javascript">@<span class="token function">Manage</span><span class="token punctuation">(</span><span class="token string">&apos;food/pizza&apos;</span><span class="token punctuation">)</span>
<span class="token keyword">class</span> <span class="token class-name">PizzaManager</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token keyword">const</span> food <span class="token operator">=</span> <span class="token function">getConflux</span><span class="token punctuation">(</span><span class="token string">&apos;food&apos;</span><span class="token punctuation">)</span>

food<span class="token punctuation">.</span>state <span class="token comment" spellcheck="true">// {pizza: {}}</span>
</code></pre>
<p>If this is the only Manager we define, Fluxuate will ensure that our state tree looks like this:</p>
<pre class="language-"><code class="lang-javascript"><span class="token punctuation">{</span>
    food<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        pizza<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p>In this example, if no <code>food</code> Manager had been defined, a Conflux will be created for it dynamically. If a <code>food</code> Manager is defined later, its Conflux will be swapped in for the dynamically created one:</p>
<pre class="language-"><code class="lang-javascript">@<span class="token function">Manage</span><span class="token punctuation">(</span><span class="token string">&apos;food&apos;</span><span class="token punctuation">)</span>
<span class="token keyword">class</span> <span class="token class-name">FoodManager</span> <span class="token punctuation">{</span>
    iceCream <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> food <span class="token operator">=</span> <span class="token function">getConflux</span><span class="token punctuation">(</span>FoodManager<span class="token punctuation">)</span>

food<span class="token punctuation">.</span>state <span class="token comment" spellcheck="true">// {pizza: {}, iceCream: {}}</span>
</code></pre>
<blockquote>
<p>Note: In most cases, it is not recommended to nest Managers. In this example, the parent and child will now be competing for the same piece of state (<code>state.food.pizza</code>). Not to mention that the <code>pizza</code> object is defined implicitly, as far as the <code>food</code> Manager is concerned. Rather, every leaf node in the state tree should get a Manager (&quot;leaf node&quot; being very loosely defined here).</p>
</blockquote>
<p>This example also illustrates one of Fluxuate&apos;s greatest strengths: Code splitting. Fluxuate doesn&apos;t care whether Managers are defined before or after the store is created. It&apos;ll dynamically create the reducer hierarchy no matter what. If the store has been created, the state will be re-calculated when a new Manager is defined.</p>
<h3 id="interception">Interception</h3>
<p>Actions can be intercepted before and after they&apos;re sent through the store&apos;s reducers. Interceptors perform requests, logs, and just side-effects in general. Before interceptors can also cancel or alter the actions they intercept. As with everything, these are purely opt-in.</p>
<pre class="language-"><code class="lang-javascript">@<span class="token function">Manage</span><span class="token punctuation">(</span><span class="token string">&apos;gold&apos;</span><span class="token punctuation">)</span>
@<span class="token function">Value</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span>
@<span class="token function">Actions</span><span class="token punctuation">(</span><span class="token string">&apos;spend&apos;</span><span class="token punctuation">)</span>
<span class="token keyword">class</span> <span class="token class-name">GoldManager</span> <span class="token punctuation">{</span>

    @<span class="token function">Before</span><span class="token punctuation">(</span><span class="token string">&apos;spend&apos;</span><span class="token punctuation">)</span>
    <span class="token function">hasSufficientGold</span><span class="token punctuation">(</span>action<span class="token punctuation">,</span> proceed<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">-</span> action<span class="token punctuation">.</span>payload <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">proceed</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// only send the action if they have money for it</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    @<span class="token function">Reduce</span><span class="token punctuation">(</span><span class="token string">&apos;spend&apos;</span><span class="token punctuation">)</span>
    <span class="token function">reduceSpend</span><span class="token punctuation">(</span>state<span class="token punctuation">,</span> payload<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> state <span class="token operator">-</span> payload
    <span class="token punctuation">}</span>

    @<span class="token function">After</span><span class="token punctuation">(</span><span class="token string">&apos;spend&apos;</span><span class="token punctuation">)</span>
    <span class="token function">logExpenditure</span><span class="token punctuation">(</span>action<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`Spent </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>action<span class="token punctuation">.</span>payload<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> gold. Gold remaining: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h3 id="notes">Notes</h3>
<p>Fluxuate subscribes to the single-store-first philosophy. There are lots (and I mean lots) of Redux concepts that are drastically simplified when the whole app is able to assume that there is only one Redux store. Since having a single store is a Redux best practice, the vast majority of apps can make this assumption. Fluxuate is heavily tailored toward this assumption but, like everything in Fluxuate, there are plenty of escape hatches. Using them will simply make your app more verbose. You can use them if you want, but it usually isn&apos;t necessary. See <a href="http://redux.js.org/docs/recipes/IsolatingSubapps.html" target="_blank">this Redux recipe</a> for more info.</p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="Philosophies.html" class="navigation navigation-prev " aria-label="Previous page: Philosophies">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="tutorial/" class="navigation navigation-next " aria-label="Next page: Tutorial">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Quick Start","level":"1.3","depth":1,"next":{"title":"Tutorial","level":"1.4","depth":1,"path":"docs/tutorial/README.md","ref":"docs/tutorial/README.md","articles":[{"title":"First Manager","level":"1.4.1","depth":2,"path":"docs/tutorial/FirstManager.md","ref":"docs/tutorial/FirstManager.md","articles":[]},{"title":"The Conflux","level":"1.4.2","depth":2,"path":"docs/tutorial/TheConflux.md","ref":"docs/tutorial/TheConflux.md","articles":[]},{"title":"Store Creation","level":"1.4.3","depth":2,"path":"docs/tutorial/StoreCreation.md","ref":"docs/tutorial/StoreCreation.md","articles":[]},{"title":"Actions","level":"1.4.4","depth":2,"path":"docs/tutorial/Actions.md","ref":"docs/tutorial/Actions.md","articles":[]},{"title":"Reducers","level":"1.4.5","depth":2,"path":"docs/tutorial/Reducers.md","ref":"docs/tutorial/Reducers.md","articles":[]},{"title":"Action Interception","level":"1.4.6","depth":2,"path":"docs/tutorial/ActionInterception.md","ref":"docs/tutorial/ActionInterception.md","articles":[]},{"title":"Conflux Injection","level":"1.4.7","depth":2,"path":"docs/tutorial/ConfluxInjection.md","ref":"docs/tutorial/ConfluxInjection.md","articles":[]},{"title":"Selectors","level":"1.4.8","depth":2,"path":"docs/tutorial/Selectors.md","ref":"docs/tutorial/Selectors.md","articles":[]},{"title":"The Modular Manager","level":"1.4.9","depth":2,"path":"docs/tutorial/TheModularManager.md","ref":"docs/tutorial/TheModularManager.md","articles":[]},{"title":"Higher-Order Reducers","level":"1.4.10","depth":2,"path":"docs/tutorial/HigherOrderReducers.md","ref":"docs/tutorial/HigherOrderReducers.md","articles":[]},{"title":"The Big Picture","level":"1.4.11","depth":2,"path":"docs/tutorial/TheBigPicture.md","ref":"docs/tutorial/TheBigPicture.md","articles":[]}]},"previous":{"title":"Philosophies","level":"1.2","depth":1,"path":"docs/Philosophies.md","ref":"docs/Philosophies.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":["prism","-highlight"],"pluginsConfig":{"prism":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"docs/styles/website.css"}},"file":{"path":"docs/QuickStart.md","mtime":"2017-10-03T21:27:04.474Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2017-10-03T22:00:32.344Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

